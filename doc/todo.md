# 一些在未来版本可能实现的功能

**如果某些功能您能够帮忙完成，可以申请加入开发组，感激不尽**

## 1.1.0

* 正式支持多bot（可能会调整框架入口，不兼容之前版本）
* EventType注解改为控制器可选注解，并同时能够注解方法，而不仅仅是控制器类，此项说明见下文。
* 尝试支持mirai-console插件，但目前看来困难不小。
* 消息缓存，撤回、回复提供更加方便的函数。
* 优化控制器路径树组建部分。
* 内置控制器MenuController优化。
* 内置控制器新增开关控制器，新增开关注解，用于控制某功能的开启和关闭，此项说明见下文。

#### EventType注解为何调整？
考虑到某些功能需要监听不止一种事件，在以前版本只有两种控制器实现方式：
1. 被迫将某功能放到两个控制器中
2. 控制器监听两个事件的共同父事件，例如直接监听Event事件，然后通过代码判断事件类型。

具体例子：新人进群欢迎功能，希望能够通过消息开启关闭此功能，这涉及新人入群和群消息两个事件。

因此新版本希望能够同一个控制器不同方法能够监听不同事件。
GroupFilter注解可能会因此作出同样的改变。

#### 开关控制器是什么？
考虑到某些功能希望能够动态开关，而且这需求非常常见，因此新增开关控制器和注解。
1. 开关注解可注解类或方法。
2. 开关注解包含一个必选参数唯一标识此功能，暂定字符串形式，表示功能的名称。
3. 开关注解包含群开关、好友开关，含义是能够在群里或者直接与机器人好友发送消息来控制某功能，而不是控制某功能在群或者好友那里是否启用。
4. 开关关掉后是否有可选的提示语？目前暂定不提供此功能，因为非消息事件此提示语的表现形式不好确定。
5. 开关控制器本身必然需要某权限，但是否不同的功能需要不同的权限？即是否能够动态设置权限，目前权限是静态的。
6. 开关功能能够控制功能在好友、指定群、所有群的开启或关闭，但与GroupFilter注解冲突时如何处理？目前GroupFilter是静态的，不是动态功能干得过的。

